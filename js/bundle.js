"use strict";function displayFirstCompareItem(){var e=$(".item-name").text(),t="<img src="+$(".object-image img").attr("src")+">",r=$("#prefix-hold").text(),n=$("#suffix-alone").text(),i=$("#primary-type").text();$("#item1-compare").text(e+" "),$("#item1-type").text(i),$("#item1-prefix").text(r),$("#item1-suffix").text(n),$("#comparison-error-hold").addClass("hide"),$("#comparison-prompt h3").text("Item Comparison"),$("#comparison-prompt p").text(e+" added to comparsion table."),$("#comparison-prompt-item1-icon").html(t),$("#comparison-prompt-item1-name").text(r+" "+e+" +"+n),$("#comparison-prompt-remove1").html("<span class='glyphicon glyphicon-remove'></span>"),$(document).on("click","#comparison-prompt-remove1",function(){$("#item1-compare").empty(),$("#item1-prefix").empty(),$("#item1-suffix").empty(),$("#item1-type").empty(),e="",t="",r="",n="",$("#comparison-prompt-item1-icon").text(""),$("#comparison-prompt-item1-name").text(" Item Removed"),$("#comparison-prompt-remove1").text("")})}function displayBothCompareItems(e){var t=$(".item-name").text(),r="<img src="+$(".object-image img").attr("src")+">",n=$("#prefix-hold").text(),i=$("#suffix-alone").text();1==e?($("#comparison-error-hold").removeClass("hide"),$("#comparison-prompt h3").text("Item Comparison"),$("#comparison-prompt p").text("Did not add "+t+" to comparsion table.")):($("#item2-compare").text(t),$("#item2-prefix").text(n),$("#item2-suffix").text(i),$("#comparison-error-hold").addClass("hide"),$("#comparison-prompt-second-row").removeClass("hide"),$("#comparison-prompt h3").text("Item Comparison"),$("#comparison-prompt p").text(t+" added to comparsion table."),$("#comparison-prompt-item2-icon").html(r),$("#comparison-prompt-item2-name").text(n+" "+t+" +"+i),$("#comparison-prompt-remove2").html("<span class='glyphicon glyphicon-remove'></span>"),$("#comparison-prompt-confirm-button").addClass("hide"),$("#comparison-prompt-final-button").removeClass("hide"),$(document).on("click","#comparison-prompt-remove1",function(){$("#item1-compare").text(t),$("#item1-prefix").text(n),$("#item1-suffix").text(i);var e=$("#primary-type").text();$("#item1-type").text(e),item1Name=t,item1Icon=r,item1Prefix=n,item1Suffix=i,$("#comparison-prompt-item1-icon").html(item1Icon),$("#comparison-prompt-item1-name").text(item1Prefix+" "+item1Name+" +"+item1Suffix),$("#comparison-prompt-remove1").html("<span class='glyphicon glyphicon-remove'></span>"),$("#item2-compare").empty(),$("#item2-prefix").empty(),$("#item2-suffix").empty(),t="",r="",n="",i="",$("#comparison-prompt-item2-icon").text(""),$("#comparison-prompt-item2-name").text(" Item Removed"),$("#comparison-prompt-remove2").text(""),$("#comparison-prompt-second-row").addClass("hide"),$("#comparison-prompt-confirm-button").removeClass("hide"),$("#comparison-prompt-final-button").addClass("hide")}),$(document).on("click","#comparison-prompt-remove2",function(){$("#item2-compare").empty(),$("#item2-prefix").empty(),$("#item2-suffix").empty(),t="",r="",n="",i="",$("#comparison-prompt-item2-icon").text(""),$("#comparison-prompt-item2-name").text(" Item Removed"),$("#comparison-prompt-remove2").text(""),$("#comparison-prompt-second-row").addClass("hide"),$("#comparison-prompt-confirm-button").removeClass("hide"),$("#comparison-prompt-final-button").addClass("hide")}),$("#comparison-prompt-final-button").unbind().click(function(){var e=$("#item1-compare").text(),t=$("#item1-prefix").text(),r=$("#item1-suffix").text(),n=$("#item2-compare").text(),i=$("#item2-prefix").text(),a=$("#item2-suffix").text();e=getEquipmentIdByName($.trim(e)),t=getPrefixIdByName($.trim(t)),n=getEquipmentIdByName($.trim(n)),i=getPrefixIdByName($.trim(i)),$("#item1-compare").empty(),$("#item1-prefix").empty(),$("#item1-suffix").empty(),$("#item1-type").empty(),$("#item2-compare").empty(),$("#item2-prefix").empty(),$("#item2-suffix").empty(),$("#comparison-prompt-confirm-button").removeClass("hide"),$("#comparison-prompt-final-button").addClass("hide");var o="#!/tools/compare?c="+e+","+t+","+r+",0-"+n+","+i+","+a+",0";$(location).attr("href",o),fadeOutComparePrompt(),fadeOutBlackBG()}))}function fadeInBlackBG(){$("#black-overlay").removeClass("hide")}function fadeOutBlackBG(){$("#black-overlay").addClass("hide")}function fadeInUrlBox(){$("#urls-popup").removeClass("hide")}function fadeOutUrlBox(){$("#urls-popup").addClass("hide")}function fadeInComparePrompt(){$("#comparison-prompt").removeClass("hide")}function fadeOutComparePrompt(){$("#comparison-prompt").addClass("hide")}function lvToTier(e){return Math.floor((e-.1)/10+1)}function lvToTierAtPotion(e){return Math.floor(e/10+1)}function lvToTierAtMaterials(e){return Math.floor(e/10+1)}function getSuffixMod(e){return jsonSuffixes[e].hasOwnProperty("stats")?jsonSuffixes[e].stats.atk:".0"}function getEquipmentByName(e){var t="";return $.each(jsonEquipments,function(r,n){return e==n.name?(t=n,!1):void 0}),t}function getEquipmentNameById(e){return jsonEquipments[e-1].name}function getEquipmentIdByName(e){var t="";return $.each(jsonEquipments,function(r,n){return n.name==e?(t=r,!1):void 0}),t}function getPrefixIdByName(e){var t="";return $.each(jsonPrefixes,function(r,n){return n.name==e?(t=r,!1):void 0}),t}function getPotionIdByName(e){var t="";return $.each(jsonPotions,function(r,n){return n.name==e?(t=r,!1):void 0}),t}function getBaseStatByType(e){return jsonFormulas[e]}function getMaterialById(e,t){var r=[];return $.each(e,function(e,n){var i=jsonMaterials[n-1],a={name:i.name,amount:t[e],rarity:i.rarity,icon:i.image,what:"material"};r.push(a)}),r}function getMaterialByIdSpec(e,t,r){var n=[];return $.each(e,function(e,i){if(r[e]){var a="",o="";if("consumable"==r[e]){var a=jsonPotions[i-1];o="potion"}else if("equipment"==r[e]){var a=jsonEquipments[i-1];o=1==jsonEquipments[i-1].itemSlot?"weapon":6==jsonEquipments[i-1].itemSlot?"trinket":"armor"}var s={name:a.name,amount:t[e],rarity:a.rarity,icon:a.image,what:o};n.push(s)}else{var a=jsonMaterials[i-1],s={name:a.name,amount:t[e],rarity:a.rarity,icon:a.image,what:"material"};n.push(s)}}),n}function getMaterialNameById(e){return jsonMaterials[e-1].name}function getMaterialByName(e){var t="";return $.each(jsonMaterials,function(r,n){return e==n.name?(t=n,!1):void 0}),t}function getMaterialIdByName(e){var t="";return $.each(jsonMaterials,function(r,n){return n.name==e?(t=r,!1):void 0}),t}function getMonsterByTrinketId(e){var t=[];return $.each(jsonQuests,function(r,n){if(n.hasOwnProperty("trinketA")&&n.trinketA[0]-1==e&&n.trinketA[0]-1==e){n.trinketA[0]-1;monsterInfo={name:n.name,region:n.region,icon:n.image,rarity:n.title,dropRate:n.trinketA[1]},monsterInfo.region=regionById(n.region),t.push(monsterInfo)}if(n.hasOwnProperty("trinketB")&&n.trinketB[0]-1==e&&n.trinketB[0]-1==e){n.trinketB[0]-1;monsterInfo={name:n.nameB,region:n.region,icon:n.imageB,rarity:n.titleB,dropRate:n.trinketB[1]},monsterInfo.region=regionById(n.region),t.push(monsterInfo)}}),t}function regionById(e){var t="";return 1==e?t="Tuvale Forest":2==e?t="Yarsol Cove":3==e?t="Aldur Highlands":4==e?t="Vulkrum Badlands":5==e&&(t="Grimhal Volcano"),t}function getMonsterByMaterialId(e){var t=[];return $.each(jsonQuests,function(r,n){if("Placeholder"!=n.title){if(n.rewardA1[0]-1==e){var i={name:n.name,rarity:n.title,icon:n.image,chance:n.rewardA1[1],min:n.rewardA1[2],max:n.rewardA1[3],region:regionById(n.region)};t.push(i)}else if(n.rewardA2[0]-1==e){var i={name:n.name,rarity:n.title,icon:n.image,chance:n.rewardA2[1],min:n.rewardA2[2],max:n.rewardA2[3],region:regionById(n.region)};t.push(i)}else if(n.rewardA3[0]-1==e){var i={name:n.name,rarity:n.title,icon:n.image,chance:n.rewardA3[1],min:n.rewardA3[2],max:n.rewardA3[3],region:regionById(n.region)};t.push(i)}else if(n.rewardA4[0]-1==e){var i={name:n.name,rarity:n.title,icon:n.image,chance:n.rewardA4[1],min:n.rewardA4[2],max:n.rewardA4[3],region:regionById(n.region)};t.push(i)}if(n.hasOwnProperty("nameB"))if(n.rewardB1[0]-1==e){var i={name:n.nameB,rarity:n.titleB,icon:n.imageB,chance:n.rewardB1[1],min:n.rewardB1[2],max:n.rewardB1[3],region:regionById(n.region)};t.push(i)}else if(n.rewardB2[0]-1==e){var i={name:n.nameB,rarity:n.titleB,icon:n.imageB,chance:n.rewardB2[1],min:n.rewardB2[2],max:n.rewardB2[3],region:regionById(n.region)};t.push(i)}else if(n.rewardB3[0]-1==e){var i={name:n.nameB,rarity:n.titleB,icon:n.imageB,chance:n.rewardB3[1],min:n.rewardB3[2],max:n.rewardB3[3],region:regionById(n.region)};t.push(i)}else if(n.rewardB4[0]-1==e){var i={name:n.nameB,rarity:n.titleB,icon:n.imageB,chance:n.rewardB4[1],min:n.rewardB4[2],max:n.rewardB4[3],region:regionById(n.region)};t.push(i)}}}),t}function getHeroByName(e){var t="";return $.each(jsonHeroes,function(r,n){return n.name==e?(t=n,!1):void 0}),t}function getPotionByName(e){var t="";return $.each(jsonPotions,function(r,n){return n.name==e?(t=n,!1):void 0}),t}function getQuestByName(e){var t="";return $.each(jsonQuests,function(r,n){if(n.name==e){n.region2=regionById(n.region);var i=1;return n.hasOwnProperty("questSize")&&(i=n.questSize),0==n.title.length&&(n.title="Normal"),t={name:n.name,nickname:n.nickname,image:n.image,enemyImage:n.enemyImage,title:n.title,levelReq:n.levelReq,exp:n.exp,gold:n.gold,time:n.time,enemyHp:n.enemyHp,enemyAtk:n.enemyAtk,enemyMatk:n.enemyMatk,enemyDef:n.enemyDef,enemyMdef:n.enemyMdef,enemyEva:n.enemyEva,reward1:n.rewardA1,reward2:n.rewardA2,reward3:n.rewardA3,reward4:n.rewardA4,trinket:n.trinketA,region:n.region,region2:n.region2,questSize:i},!1}if(n.nameB==e){n.region2=regionById(n.region);var i=1;return n.hasOwnProperty("questSize")&&(i=n.questSize),0==n.title.length&&(n.title="Normal"),t={name:n.nameB,nickname:n.nicknameB,image:n.imageB,enemyImage:n.enemyImageB,title:n.titleB,levelReq:n.levelReq,exp:n.expB,gold:n.goldB,time:n.timeB,enemyHp:n.enemyHpB,enemyAtk:n.enemyAtkB,enemyMatk:n.enemyMatkB,enemyDef:n.enemyDefB,enemyMdef:n.enemyMdefB,enemyEva:n.enemyEvaB,reward1:n.rewardB1,reward2:n.rewardB2,reward3:n.rewardB3,reward4:n.rewardB4,trinket:n.trinketB,region:n.region,region2:n.region2,questSize:i},!1}}),t}function usedToCraftFromMaterial(e){var t=[];return $.each(jsonEquipments,function(r,n){$.each(n.materialID,function(r,i){if(i-1==e&&n.hasOwnProperty("materialType")&&"equipment"!=n.materialType[r]||i-1==e&&!n.hasOwnProperty("materialType")){var a="";a=1==n.itemSlot?"weapon":6==n.itemSlot?"trinket":"armor";var o={name:n.name,image:n.image,rarity:n.rarity,type:a,amount:n.materialAmount[r]};return t.push(o),!1}})}),$.each(jsonPotions,function(r,n){$.each(n.materialID,function(r,i){if(i-1==e&&n.hasOwnProperty("materialType")&&"consumable"!=n.materialType[r]||i-1==e&&!n.hasOwnProperty("materialType")){var a={name:n.name,image:n.image,rarity:n.rarity,type:"potion",amount:n.materialAmount[r]};return t.push(a),!1}})}),$.each(jsonMaterials,function(r,n){$.each(n.materialID,function(r,i){if(i-1==e){var a={name:n.name,image:n.image,rarity:n.rarity,type:"material",amount:n.materialAmount[r]};return t.push(a),!1}})}),t}function usedToCraftFromPotion(e){var t=[];return $.each(jsonPotions,function(r,n){$.each(n.materialID,function(r,i){if(n.hasOwnProperty("materialType")&&i-1==e&&"consumable"==n.materialType[r]){var a={name:n.name,image:n.image,rarity:n.rarity,type:"potion",amount:n.materialAmount[r]};return t.push(a),!1}})}),t}function usedToCraftFromEquipment(e){var t=[];return $.each(jsonEquipments,function(r,n){$.each(n.materialID,function(r,i){if(n.hasOwnProperty("materialType")&&i-1==e&&"equipment"==n.materialType[r]){var a={name:n.name,image:n.image,rarity:n.rarity,type:"weapon",amount:n.materialAmount[r]};return t.push(a),!1}})}),t}function getQuestNamesByRegioName(e){var t=0;"Tuvale Forest"==e?t=1:"Yarsol Cove"==e?t=2:"Aldur Highlands"==e?t=3:"Vulkrum Badlands"==e?t=4:"Grimhal Volcano"==e&&(t=5);var r=[];return $.each(jsonQuests,function(e,n){n.region==t&&"Placeholder"!=n.title&&(r.push(n.name),n.nameB&&r.push(n.nameB))}),r}function getPrefixStatByName(e){var t="";return $.each(jsonPrefixes,function(r,n){return e==n.name?(t={name:Object.keys(n.stats)[0],val:n.stats[Object.keys(n.stats)[0]]},!1):void 0}),t}function getGuideByTitle(e){var t="";return $.each(listOfGuides,function(r,n){return listOfGuides[r].title.rendered==e?(t=n,!1):void 0}),t}function getAuthorByID(e){var t="";return 1==e?t="Chirp":2==e?t="Phaturia":3==e?t="EnzymSama":4==e&&(t="Kamighty"),t}function trimDate(e){var t=10,r=e.substring(0,t);return r}var mainApp=angular.module("mainApp",["snap","angucomplete-alt","ngRoute","ngSanitize"]).config(["$locationProvider",function(e){e.html5Mode(!1).hashPrefix("!")}]).config(["snapRemoteProvider",function(e){e.globalOptions.disable="left",e.globalOptions.touchToDrag=!1}]).config(["$routeProvider",function(e){e.when("/items/weapon/:id",{templateUrl:"pages/eqWeapon.html",controller:"eqWeaponCtrl"}).when("/items/armor/:id",{templateUrl:"pages/eqArmor.html",controller:"eqArmorCtrl"}).when("/items/trinket/:id",{templateUrl:"pages/eqTrinket.html",controller:"eqTrinketCtrl"}).when("/items/material/:id",{templateUrl:"pages/materials.html",controller:"materialCtrl"}).when("/items/potion/:id",{templateUrl:"pages/potions.html",controller:"potionCtrl"}).when("/items/weapons",{templateUrl:"pages/itemWeapon.html",controller:"itemWeaponCtrl"}).when("/items/armors",{templateUrl:"pages/itemArmor.html",controller:"itemArmorCtrl"}).when("/items/trinkets",{templateUrl:"pages/itemTrinket.html",controller:"itemTrinketCtrl"}).when("/items/potions",{templateUrl:"pages/itemPotion.html",controller:"itemPotionCtrl"}).when("/items/materials",{templateUrl:"pages/itemMaterial.html",controller:"itemMaterialCtrl"}).when("/heroes/:id",{templateUrl:"pages/heroes.html",controller:"heroCtrl"}).when("/quests/:id",{templateUrl:"pages/quests.html",controller:"questCtrl"}).when("/regios/:id",{templateUrl:"pages/regios.html",controller:"regioCtrl"}).when("/tools",{templateUrl:"pages/tools.html",controller:"toolCtrl"}).when("/tools/compare",{templateUrl:"pages/toolCompare.html",controller:"toolCompareCtrl"}).when("/tools/comparison-help",{templateUrl:"pages/comparison-help.html",controller:"toolCtrl"}).when("/guides",{templateUrl:"pages/guides.html",controller:"guidesCtrl"}).when("/guides/:id",{templateUrl:"pages/guide.html",controller:"guideCtrl"}).when("/",{templateUrl:"main.html",controller:"mainCtrl"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$route",function(e,t){e.$on("$routeChangeSuccess",function(){var e=window.location.href.split("/");e=e[e.length-1].replace(/%20/g," "),0==e.length&&(e="Main");var t=e.split("?")[0],r=e.split("?")[1],n="",i="";r&&(r=r.split("&"),$.each(r,function(e,t){t=t.split("="),"prefix"==t[0]?i=jsonPrefixes[t[1]].name:"suffix"==t[0]&&(n=jsonSuffixes[t[1]].name)})),document.title=i+" "+t+" "+n+" - MerchantDB",window.scrollTo(0,0),$("#comments").hide(),$("#commentsButton").show()})}]);(function(e,t){var r=r||function(r){var n={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},i={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},a={},o={hasTouch:"ontouchstart"in t.documentElement||e.navigator.msPointerEnabled,eventType:function(e){var t={down:o.hasTouch?"touchstart":"mousedown",move:o.hasTouch?"touchmove":"mousemove",up:o.hasTouch?"touchend":"mouseup",out:o.hasTouch?"touchcancel":"mouseout"};return t[e]},page:function(e,t){return o.hasTouch&&t.touches.length&&t.touches[0]?t.touches[0]["page"+e]:t["page"+e]},klass:{has:function(e,t){return-1!==e.className.indexOf(t)},add:function(e,t){!o.klass.has(e,t)&&n.addBodyClasses&&(e.className+=" "+t)},remove:function(e,t){n.addBodyClasses&&(e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(e){return"function"==typeof a[e]?a[e].call():void 0},vendor:function(){var e,r=t.createElement("div"),n="webkit Moz O ms".split(" ");for(e in n)if("undefined"!=typeof r.style[n[e]+"Transition"])return n[e]},transitionCallback:function(){return"Moz"===i.vendor||"ms"===i.vendor?"transitionend":i.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof n.element.style[i.vendor+"Transform"]},deepExtend:function(e,t){var r;for(r in t)t[r]&&t[r].constructor&&t[r].constructor===Object?(e[r]=e[r]||{},o.deepExtend(e[r],t[r])):e[r]=t[r];return e},angleOfDrag:function(e,t){var r,n;return n=Math.atan2(-(i.startDragY-t),i.startDragX-e),0>n&&(n+=2*Math.PI),r=Math.floor(n*(180/Math.PI)-180),0>r&&r>-180&&(r=360-Math.abs(r)),Math.abs(r)},events:{addEvent:function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent?e.attachEvent("on"+t,r):void 0},removeEvent:function(e,t,r){return e.addEventListener?e.removeEventListener(t,r,!1):e.attachEvent?e.detachEvent("on"+t,r):void 0},prevent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},parentUntil:function(e,t){for(var r="string"==typeof t;e.parentNode;){if(r&&e.getAttribute&&e.getAttribute(t))return e;if(!r&&e===t)return e;e=e.parentNode}return null}},s={translate:{get:{matrix:function(t){if(o.canTransform()){var r=e.getComputedStyle(n.element)[i.vendor+"Transform"].match(/\((.*)\)/),a=8;return r?(r=r[1].split(","),16===r.length&&(t+=a),parseInt(r[t],10)):0}return parseInt(n.element.style.left,10)}},easeCallback:function(){n.element.style[i.vendor+"Transition"]="",i.translation=s.translate.get.matrix(4),i.easing=!1,clearInterval(i.animatingInterval),0===i.easingTo&&(o.klass.remove(t.body,"snapjs-right"),o.klass.remove(t.body,"snapjs-left")),o.dispatchEvent("animated"),o.events.removeEvent(n.element,o.transitionCallback(),s.translate.easeCallback)},easeTo:function(e){o.canTransform()?(i.easing=!0,i.easingTo=e,n.element.style[i.vendor+"Transition"]="all "+n.transitionSpeed+"s "+n.easing,i.animatingInterval=setInterval(function(){o.dispatchEvent("animating")},1),o.events.addEvent(n.element,o.transitionCallback(),s.translate.easeCallback),s.translate.x(e)):(i.translation=e,s.translate.x(e)),0===e&&(n.element.style[i.vendor+"Transform"]="")},x:function(r){if(!("left"===n.disable&&r>0||"right"===n.disable&&0>r))if(n.hyperextensible||(r===n.maxPosition||r>n.maxPosition?r=n.maxPosition:(r===n.minPosition||r<n.minPosition)&&(r=n.minPosition)),r=parseInt(r,10),isNaN(r)&&(r=0),o.canTransform()){var a="translate3d("+r+"px, 0,0)";n.element.style[i.vendor+"Transform"]=a}else n.element.style.width=(e.innerWidth||t.documentElement.clientWidth)+"px",n.element.style.left=r+"px",n.element.style.right=""}},drag:{listen:function(){i.translation=0,i.easing=!1,o.events.addEvent(n.element,o.eventType("down"),s.drag.startDrag),o.events.addEvent(n.element,o.eventType("move"),s.drag.dragging),o.events.addEvent(n.element,o.eventType("up"),s.drag.endDrag)},stopListening:function(){o.events.removeEvent(n.element,o.eventType("down"),s.drag.startDrag),o.events.removeEvent(n.element,o.eventType("move"),s.drag.dragging),o.events.removeEvent(n.element,o.eventType("up"),s.drag.endDrag)},startDrag:function(e){var t=e.target?e.target:e.srcElement,r=o.parentUntil(t,"data-snap-ignore");if(r)return void o.dispatchEvent("ignore");if(n.dragger){var a=o.parentUntil(t,n.dragger);if(!a&&i.translation!==n.minPosition&&i.translation!==n.maxPosition)return}o.dispatchEvent("start"),n.element.style[i.vendor+"Transition"]="",i.isDragging=!0,i.hasIntent=null,i.intentChecked=!1,i.startDragX=o.page("X",e),i.startDragY=o.page("Y",e),i.dragWatchers={current:0,last:0,hold:0,state:""},i.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(e){if(i.isDragging&&n.touchToDrag){var r,a=o.page("X",e),l=o.page("Y",e),m=i.translation,u=s.translate.get.matrix(4),c=a-i.startDragX,d=u>0,p=c;if(i.intentChecked&&!i.hasIntent)return;if(n.addBodyClasses&&(u>0?(o.klass.add(t.body,"snapjs-left"),o.klass.remove(t.body,"snapjs-right")):0>u&&(o.klass.add(t.body,"snapjs-right"),o.klass.remove(t.body,"snapjs-left"))),i.hasIntent===!1||null===i.hasIntent){var f=o.angleOfDrag(a,l),h=f>=0&&f<=n.slideIntent||360>=f&&f>360-n.slideIntent,g=f>=180&&f<=180+n.slideIntent||180>=f&&f>=180-n.slideIntent;g||h?i.hasIntent=!0:i.hasIntent=!1,i.intentChecked=!0}if(n.minDragDistance>=Math.abs(a-i.startDragX)||i.hasIntent===!1)return;o.events.prevent(e),o.dispatchEvent("drag"),i.dragWatchers.current=a,i.dragWatchers.last>a?("left"!==i.dragWatchers.state&&(i.dragWatchers.state="left",i.dragWatchers.hold=a),i.dragWatchers.last=a):i.dragWatchers.last<a&&("right"!==i.dragWatchers.state&&(i.dragWatchers.state="right",i.dragWatchers.hold=a),i.dragWatchers.last=a),d?(n.maxPosition<u&&(r=(u-n.maxPosition)*n.resistance,p=c-r),i.simpleStates={opening:"left",towards:i.dragWatchers.state,hyperExtending:n.maxPosition<u,halfway:u>n.maxPosition/2,flick:Math.abs(i.dragWatchers.current-i.dragWatchers.hold)>n.flickThreshold,translation:{absolute:u,relative:c,sinceDirectionChange:i.dragWatchers.current-i.dragWatchers.hold,percentage:u/n.maxPosition*100}}):(n.minPosition>u&&(r=(u-n.minPosition)*n.resistance,p=c-r),i.simpleStates={opening:"right",towards:i.dragWatchers.state,hyperExtending:n.minPosition>u,halfway:u<n.minPosition/2,flick:Math.abs(i.dragWatchers.current-i.dragWatchers.hold)>n.flickThreshold,translation:{absolute:u,relative:c,sinceDirectionChange:i.dragWatchers.current-i.dragWatchers.hold,percentage:u/n.minPosition*100}}),s.translate.x(p+m)}},endDrag:function(e){if(i.isDragging){o.dispatchEvent("end");var t=s.translate.get.matrix(4);if(0===i.dragWatchers.current&&0!==t&&n.tapToClose)return o.dispatchEvent("close"),o.events.prevent(e),s.translate.easeTo(0),i.isDragging=!1,void(i.startDragX=0);"left"===i.simpleStates.opening?i.simpleStates.halfway||i.simpleStates.hyperExtending||i.simpleStates.flick?i.simpleStates.flick&&"left"===i.simpleStates.towards?s.translate.easeTo(0):(i.simpleStates.flick&&"right"===i.simpleStates.towards||i.simpleStates.halfway||i.simpleStates.hyperExtending)&&s.translate.easeTo(n.maxPosition):s.translate.easeTo(0):"right"===i.simpleStates.opening&&(i.simpleStates.halfway||i.simpleStates.hyperExtending||i.simpleStates.flick?i.simpleStates.flick&&"right"===i.simpleStates.towards?s.translate.easeTo(0):(i.simpleStates.flick&&"left"===i.simpleStates.towards||i.simpleStates.halfway||i.simpleStates.hyperExtending)&&s.translate.easeTo(n.minPosition):s.translate.easeTo(0)),i.isDragging=!1,i.startDragX=o.page("X",e)}}}},l=function(e){e.element&&(o.deepExtend(n,e),i.vendor=o.vendor(),s.drag.listen())};this.open=function(e){o.dispatchEvent("open"),o.klass.remove(t.body,"snapjs-expand-left"),o.klass.remove(t.body,"snapjs-expand-right"),"left"===e?(i.simpleStates.opening="left",i.simpleStates.towards="right",o.klass.add(t.body,"snapjs-left"),o.klass.remove(t.body,"snapjs-right"),s.translate.easeTo(n.maxPosition)):"right"===e&&(i.simpleStates.opening="right",i.simpleStates.towards="left",o.klass.remove(t.body,"snapjs-left"),o.klass.add(t.body,"snapjs-right"),s.translate.easeTo(n.minPosition))},this.close=function(){o.dispatchEvent("close"),s.translate.easeTo(0)},this.expand=function(r){var n=e.innerWidth||t.documentElement.clientWidth;"left"===r?(o.dispatchEvent("expandLeft"),o.klass.add(t.body,"snapjs-expand-left"),o.klass.remove(t.body,"snapjs-expand-right")):(o.dispatchEvent("expandRight"),o.klass.add(t.body,"snapjs-expand-right"),o.klass.remove(t.body,"snapjs-expand-left"),n*=-1),s.translate.easeTo(n)},this.on=function(e,t){return a[e]=t,this},this.off=function(e){a[e]&&(a[e]=!1)},this.enable=function(){o.dispatchEvent("enable"),s.drag.listen()},this.disable=function(){o.dispatchEvent("disable"),s.drag.stopListening()},this.settings=function(e){o.deepExtend(n,e)},this.state=function(){var e,t=s.translate.get.matrix(4);return e=t===n.maxPosition?"left":t===n.minPosition?"right":"closed",{state:e,info:i.simpleStates}},l(r)};"undefined"!=typeof module&&module.exports&&(module.exports=r),"undefined"==typeof ender&&(this.Snap=r),"function"==typeof define&&define.amd&&define("snap",[],function(){return r})}).call(this,window,document),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){e.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(e,t,r,n,i,a,o){function s(t,a,o,s){function T(e,r){e&&("object"==typeof e?(t.searchStr=B(e),C({originalObject:e})):"string"==typeof e&&e.length>0?t.searchStr=e:console&&console.error&&console.error("Tried to set "+(r?"initial":"")+" value of angucomplete to",e,"which is an invalid value"),P(!0))}function b(e){de=null,t.hideResults(e),document.body.removeEventListener("click",b)}function F(e){return e.which?e.which:e.keyCode}function C(e){"function"==typeof t.selectedObject?t.selectedObject(e):t.selectedObject=e,P(e?!0:!1)}function k(e){return function(r){return t[e]?t[e](r):r}}function S(e){C({originalObject:e}),t.clearSelected&&(t.searchStr=null),V()}function B(e){return t.titleField.split(",").map(function(t){return j(e,t)}).join(" ")}function j(e,t){var r,n;if(t){r=t.split("."),n=e;for(var i=0;i<r.length;i++)n=n[r[i]]}else n=e;return n}function I(e,r){var i,a,o;return o=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),e?(e.match&&e.replace||(e=e.toString()),a=e.match(o),i=a?e.replace(o,'<span class="'+t.matchClass+'">'+a[0]+"</span>"):e,n.trustAsHtml(i)):void 0}function P(e){t.notEmpty=e,le=t.searchStr,t.fieldRequired&&s&&t.inputName&&s[t.inputName].$setValidity(se,e)}function A(e){var r=F(e);if(r!==c&&r!==m)if(r===u||r===p)e.preventDefault();else if(r===l)e.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=ae&&(Q(),t.searching=!0,Y(t.searchStr));else if(r===d)V(),t.$apply(function(){ie.val(t.searchStr)});else{if(0===ae&&!t.searchStr)return;t.searchStr&&""!==t.searchStr?t.searchStr.length>=ae&&(Q(),oe&&i.cancel(oe),t.searching=!0,oe=i(function(){Y(t.searchStr)},t.pause)):t.showDropdown=!1,le&&le!==t.searchStr&&!t.clearSelected&&t.$apply(function(){C()})}}function D(e){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(e&&e.preventDefault(),i.cancel(oe),W(),S(t.searchStr))}function L(e){var t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function O(){return ue.getBoundingClientRect().top+parseInt(getComputedStyle(ue).maxHeight,10)}function M(){return a[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function E(){return M().getBoundingClientRect().top-(ue.getBoundingClientRect().top+parseInt(getComputedStyle(ue).paddingTop,10))}function q(e){ue.scrollTop=ue.scrollTop+e}function N(){var e=t.results[t.currentIndex];t.matchClass?ie.val(B(e.originalObject)):ie.val(e.title)}function G(e){var r=F(e),n=null,i=null;r===p&&t.results?(t.currentIndex>=0&&t.currentIndex<t.results.length?(e.preventDefault(),t.selectResult(t.results[t.currentIndex])):(D(e),V()),t.$apply()):r===l&&t.results?(e.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++,N()}),ce&&(n=M(),O()<n.getBoundingClientRect().bottom&&q(L(n))))):r===u&&t.results?(e.preventDefault(),t.currentIndex>=1?(t.$apply(function(){t.currentIndex--,N()}),ce&&(i=E(),0>i&&q(i-1))):0===t.currentIndex&&t.$apply(function(){t.currentIndex=-1,ie.val(t.searchStr)})):r===f?t.results&&t.results.length>0&&t.showDropdown?-1===t.currentIndex&&t.overrideSuggestions?D():(-1===t.currentIndex&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&t.searchStr.length>0&&D():r===d&&e.preventDefault()}function R(e){return function(r,n,i,a){n||i||a||!r.data||(r=r.data),t.searching=!1,X(j(ee(r),t.remoteUrlDataField),e)}}function U(e,r,n,i){0!==r&&-1!==r&&(r||n||i||(r=e.status),t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(e,r,n,i):console&&console.error&&console.error("http error"))}function W(){me&&me.resolve()}function H(n){var i={},a=t.remoteUrl+encodeURIComponent(n);t.remoteUrlRequestFormatter&&(i={params:t.remoteUrlRequestFormatter(n)},a=t.remoteUrl),t.remoteUrlRequestWithCredentials&&(i.withCredentials=!0),W(),me=e.defer(),i.timeout=me.promise,r.get(a,i).success(R(n)).error(U)}function J(r){W(),me=e.defer(),t.remoteApiHandler(r,me.promise).then(R(r))["catch"](U)}function V(){t.showDropdown=!1,t.results=[],ue&&(ue.scrollTop=0)}function Q(){t.showDropdown=re,t.currentIndex=t.focusFirst?0:-1,t.results=[]}function _(e){var r,n,i,a,o=t.searchFields.split(","),s=[];for("undefined"!=typeof t.parseInput()&&(e=t.parseInput()(e)),r=0;r<t.localData.length;r++){for(n=!1,i=0;i<o.length;i++)a=j(t.localData[r],o[i])||"",n=n||a.toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0;n&&(s[s.length]=t.localData[r])}t.searching=!1,X(s,e)}function z(e,r,n){if(!n)return!1;for(var i in r)if(r[i].toLowerCase()===n.toLowerCase())return t.selectResult(e),!0;return!1}function Y(e){!e||e.length<ae||(t.localData?t.$apply(function(){_(e)}):t.remoteApiHandler?J(e):H(e))}function X(e,r){var n,i,a,o,s,l,m;if(e&&e.length>0)for(t.results=[],n=0;n<e.length;n++)t.titleField&&""!==t.titleField&&(s=l=B(e[n])),i="",t.descriptionField&&(i=m=j(e[n],t.descriptionField)),a="",t.titleclassField&&(a=j(e[n],t.titleclassField)),o="",t.imageField&&(o="assets/"+j(e[n],t.imageField)),t.matchClass&&(l=I(s,r),m=I(i,r)),t.results[t.results.length]={title:l,description:m,titleclass:a,image:o,originalObject:e[n]};else t.results=[];t.autoMatch&&1===t.results.length&&z(t.results[0],{title:s,desc:i,titleclas:a||""},t.searchStr)?t.showDropdown=!1:0!==t.results.length||ne?t.showDropdown=!0:t.showDropdown=!1}function K(){t.localData?X(t.localData,""):t.remoteApiHandler?J(""):H("")}var Z,ee,te,re,ne,ie=a.find("input"),ae=h,oe=null,se=$,le=null,me=null,ue=a[0].querySelector(".angucomplete-dropdown"),ce=!1,de=null;a.on("mousedown",function(e){e.target.id?(de=e.target.id,de===t.id+"_dropdown"&&document.body.addEventListener("click",b)):de=e.target.className}),t.currentIndex=t.focusFirst?0:null,t.searching=!1,te=t.$watch("initialValue",function(e){e&&(te(),T(e,!0))}),t.$watch("fieldRequired",function(e,r){e!==r&&(e?P(le&&-1!==t.currentIndex?!0:!1):s[t.inputName].$setValidity(se,!0))}),t.$on("angucomplete-alt:clearInput",function(e,r){r&&r!==t.id||(t.searchStr=null,C(),P(!1),V())}),t.$on("angucomplete-alt:changeInput",function(e,r,n){r&&r===t.id&&T(n)}),t.onFocusHandler=function(){t.focusIn&&t.focusIn(),0!==ae||t.searchStr&&0!==t.searchStr.length||(t.currentIndex=t.focusFirst?0:t.currentIndex,t.showDropdown=!0,K())},t.hideResults=function(){de&&(de===t.id+"_dropdown"||de.indexOf("angucomplete")>=0)?de=null:(Z=i(function(){V(),t.$apply(function(){t.searchStr&&t.searchStr.length>0&&ie.val(t.searchStr)})},y),W(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&t.searchStr.length>0&&-1===t.currentIndex&&D())},t.resetHideResults=function(){Z&&i.cancel(Z)},t.hoverRow=function(e){t.currentIndex=e},t.selectResult=function(e){t.matchClass&&(e.title=B(e.originalObject),e.description=j(e.originalObject,t.descriptionField),e.titleclass=j(e.originalObject,t.titleclassField)),t.clearSelected?t.searchStr=null:t.searchStr=e.title,C(e),V()},t.inputChangeHandler=function(e){return e.length<ae?(W(),V()):0===e.length&&0===ae&&(t.searching=!1,K()),t.inputChanged&&(e=t.inputChanged(e)),e},t.fieldRequiredClass&&""!==t.fieldRequiredClass&&(se=t.fieldRequiredClass),t.minlength&&""!==t.minlength&&(ae=parseInt(t.minlength,10)),t.pause||(t.pause=v),t.clearSelected||(t.clearSelected=!1),t.overrideSuggestions||(t.overrideSuggestions=!1),t.fieldRequired&&s&&P(t.initialValue?!0:!1),t.inputType=o.type?o.type:"text",t.textSearching=o.textSearching?o.textSearching:x,t.textNoResults=o.textNoResults?o.textNoResults:w,re="false"!==t.textSearching,ne="false"!==t.textNoResults,t.maxlength=o.maxlength?o.maxlength:g,
ie.on("keydown",G),ie.on("keyup",A),ee=k("remoteUrlResponseFormatter"),i(function(){var e=getComputedStyle(ue);ce=e.maxHeight&&"auto"===e.overflowY})}var l=40,m=39,u=38,c=37,d=27,p=13,f=9,h=3,g=524288,v=500,y=200,$="autocomplete-required",x="Searching...",w="No results found",T="/angucomplete-alt/index.html";return a.put(T,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name="{{inputName}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title quality-{{result.titleclass}}" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title quality-{{result.titleclass}}" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"=",localData:"=",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",titleclassField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",inputName:"@",focusFirst:"@",parseInput:"&"},templateUrl:function(e,t){return t.templateUrl||T},compile:function(e){var t=o.startSymbol(),r=o.endSymbol();if("{{"!==t||"}}"!==r){var n=e.html().replace(/\{\{/g,t).replace(/\}\}/g,r);e.html(n)}return s}}}])}),angular.module("snap",[]),function(){var e=[1,8,5],t={full:e.join("."),major:e[0],minor:e[1],patch:e[2]};angular.module("snap").constant("SNAP_VERSION",t)}(),angular.module("snap").directive("snapClose",["$rootScope","snapRemote",function(e,t){return{restrict:"A",link:function(r,n,i){n.bind("click",function(){t.close(r.$eval(i.snapId)),e.$digest()})}}}]),angular.module("snap").directive("snapContent",["SnapConstructor","snapRemote",function(e,t){return{restrict:"AE",link:function(r,n,i){n.addClass("snap-content");var a=i.snapId;a&&(a=r.$eval(i.snapId));var o=angular.extend({},t.globalOptions),s=function(e,n){r.$watch(function(){return r.$eval(e)},function(e,r){angular.isDefined(r)&&e!==r&&t.getSnapper(a).then(function(t){var r={};r[n]=e,t.settings(r)})})};angular.forEach(i,function(e,t){0===t.indexOf("snapOpt")&&(t=t.substring(7),t.length&&(t=t[0].toLowerCase()+t.substring(1),o[t]=r.$eval(e),s(e,t)))}),o.element=n[0],angular.isDefined(i.snapOptions)&&i.snapOptions&&angular.extend(o,r.$eval(i.snapOptions)),t.register(new e(o),a),angular.isDefined(i.snapOptions)&&i.snapOptions&&r.$watch(i.snapOptions,function(e){t.getSnapper(a).then(function(t){t.settings(e)})},!0),r.$on("$destroy",function(){t.unregister(a)})}}}]),angular.module("snap").directive("snapDragger",["snapRemote",function(e){return{restrict:"AE",link:function(t,r,n){var i=t.$eval(n.snapId);e.getSnapper(i).then(function(e){e.settings({dragger:r[0]})})}}}]),angular.module("snap").directive("snapDrawer",function(){return{restrict:"AE",link:function(e,t,r){t.addClass("snap-drawer");var n=t.parent(),i=!0;for("right"===r.snapDrawer?t.addClass("snap-drawer-right"):t.addClass("snap-drawer-left");n.length;)n.hasClass("snap-drawers")&&(i=!1),n=n.parent();i&&t.wrap('<div class="snap-drawers" />')}}}),angular.module("snap").directive("snapDrawers",function(){return{restrict:"AE",compile:function(e,t){e.addClass("snap-drawers")}}}),angular.module("snap").directive("snapToggle",["$rootScope","snapRemote",function(e,t){return{restrict:"A",link:function(r,n,i){var a=i.snapId,o=i.snapToggle||"left";if(a&&(a=r.$eval(a)),!i.snapUnsafe){var s=!1;n.bind("mousedown",function(e){s=!0,e.stopImmediatePropagation()}),n.bind("mouseup",function(e){s&&e.stopImmediatePropagation(),s=!1})}n.bind("click",function(){t.toggle(o,a),e.$digest()})}}}]),angular.module("snap").provider("SnapConstructor",function(){var e;this.use=function(t){e=t},this.$get=["$window",function(t){var r=e||t.Snap;if(angular.isUndefined(r))throw new Error("Snap constructor is not defined. Make sure window.Snap is defined or supply your own with SnapConstructorProvider.use(MySnap).");return r}]}),angular.module("snap").provider("snapRemote",function(){var e=this;return this.globalOptions={},this.$get=["$q",function(t){var r,n,i={},a="__DEFAULT_SNAPPER_ID__",o={};return o.globalOptions=e.globalOptions,o.getSnapper=function(e){return e=e||a,i.hasOwnProperty(e)||r(e),i[e].deferred.promise},o.register=function(e,t){t=t||a,i.hasOwnProperty(t)||r(t),i[t].isResolved&&r(t),n(e,t)},o.unregister=function(e){e=e||a,i.hasOwnProperty(e)&&delete i[e]},o.toggle=function(e,t){t=t||a,o.getSnapper(t).then(function(r){e===r.state().state?o.close(t):o.open(e,t)})},o.open=function(e,t){t=t||a,o.getSnapper(t).then(function(t){t.open(e)})},o.close=function(e){e=e||a,o.getSnapper(e).then(function(e){e.close()})},o.expand=function(e,t){t=t||a,o.getSnapper(t).then(function(t){t.expand(e)})},o.enable=function(e){e=e||a,o.getSnapper(e).then(function(e){e.enable()})},o.disable=function(e){e=e||a,o.getSnapper(e).then(function(e){e.disable()})},r=function(e){i[e]={deferred:t.defer(),isResolved:!1}},n=function(e,t){i[t].deferred.resolve(e),i[t].isResolved=!0},o}],this}),$(document).ready(function(){var e="",t="",r="",n="";e=["<ul id='sub-menu-heroes'>","<li><a href='#!/heroes/Warrior'>Warrior</a></li>","<li><a href='#!/heroes/Rogue'>Rogue</a></li>","<li><a href='#!/heroes/Mage'>Mage</a></li>","<li><a href='#!/heroes/Berserker'>Berserker</a></li>","<li><a href='#!/heroes/Cleric'>Cleric</a></li>","<li><a href='#!/heroes/Assassin'>Assassin</a></li>","<li><a href='#!/heroes/Paladin'>Paladin</a></li>","<li><a href='#!/heroes/Dark Knight'>Dark Knight</a></li>","</ul>"].join(""),t=["<ul id='sub-menu-heroes'>","<li><a href='#!/items/weapons'>Weapons</a></li>","<li><a href='#!/items/armors'>Armors</a></li>","<li><a href='#!/items/trinkets'>Trinkets</a></li>","<li><a href='#!/items/potions'>Potions</a></li>","<li><a href='#!/items/materials'>Materials</a></li>","</ul>"].join(""),r=["<ul id='sub-menu-zones'>","<li><a href='#!/regios/Tuvale Forest'>Tuvale Forest</a></li>","<li><a href='#!/regios/Yarsol Cove'>Yarsol Cove</a></li>","<li><a href='#!/regios/Aldur Highlands'>Aldur Highlands</a></li>","<li><a href='#!/regios/Vulkrum Badlands'>Vulkrum Badlands</a></li>","<li><a href='#!/regios/Grimhal Volcano'>Grimhal Volcano</a></li>","</ul>"].join(""),n=["<ul id='sub-menu-community'>","<li><a href='https://www.reddit.com/r/MerchantRPG/'>Reddit</a></li>","</ul>"].join(""),$("#hero-link").on("mouseenter",function(){$("#sub-menu-hold").slideDown("fast").empty().append(e),$("#navi-hold>ul>li>a.menu-hovered").removeClass("menu-hovered"),$(this).addClass("menu-hovered")}),$("#item-link").on("mouseenter",function(){$("#sub-menu-hold").slideDown("fast").empty().append(t),$("#navi-hold>ul>li>a.menu-hovered").removeClass("menu-hovered"),$(this).addClass("menu-hovered")}),$("#region-link").on("mouseenter",function(){$("#sub-menu-hold").slideDown("fast").empty().append(r),$("#navi-hold>ul>li>a.menu-hovered").removeClass("menu-hovered"),$(this).addClass("menu-hovered")}),$("#tool-link").on("mouseenter",function(){$("#sub-menu-hold").slideUp("fast").empty(),$("#navi-hold>ul>li>a.menu-hovered").removeClass("menu-hovered"),$(this).addClass("menu-hovered")}),$("#guide-link").on("mouseenter",function(){$("#sub-menu-hold").slideUp("fast").empty(),$("#navi-hold>ul>li>a.menu-hovered").removeClass("menu-hovered"),$(this).addClass("menu-hovered")}),$("#community-link").on("mouseenter",function(){$("#sub-menu-hold").slideUp("fast").empty(),$("#navi-hold>ul>li>a.menu-hovered").removeClass("menu-hovered"),$(this).addClass("menu-hovered")}),$(".nav-menu-desktop").mouseleave(function(){})}),angular.module("mainApp").directive("itemGrade",function(){return{templateUrl:"../templates/item-grade-template.html"}}),angular.module("mainApp").directive("itemPageCompareButton",function(){return{templateUrl:"../templates/item-page-compare-button-template.html"}}),angular.module("mainApp").directive("itemPageCopyButton",function(){return{templateUrl:"../templates/item-page-copy-button-template.html"}}),angular.module("mainApp").directive("itemPrefix",function(){return{templateUrl:"../templates/item-prefix-template.html"}}),angular.module("mainApp").directive("itemSuffix",function(){return{templateUrl:"../templates/item-suffix-template.html"}}),angular.module("mainApp").directive("itemUrls",function(){return{templateUrl:"../templates/item-urls-template.html"}}),angular.module("mainApp").controller("bodyCtrl",["$scope","$http",function(e,t){e.betaVersion="1.858",e.liveVersion="1.88",e.guidesList=listOfGuides,e.getAuthByID=function(e){var t=getAuthorByID(e);return t}}]),angular.module("mainApp").controller("eqArmorCtrl",["$scope","$routeParams",function(e,t){function r(){e.suffixMod=1+getSuffixMod(e.suffix),e.suffix>0?($("#add-suffix").removeClass("hide"),e.suffixNum=1):$("#add-suffix").addClass("hide")}function n(){0!=e.prefix&&(e.prefixNum=1)}e.Math=Math,e.itemID=getEquipmentIdByName(t.id),e.item=jsonEquipments[e.itemID],e.itemBaseStat=getBaseStatByType(e.item.subType),0!=e.item.crafterID&&(e.item.hasOwnProperty("materialType")?e.material=getMaterialByIdSpec(e.item.materialID,e.item.materialAmount,e.item.materialType):e.material=getMaterialById(e.item.materialID,e.item.materialAmount)),e.craft=usedToCraftFromEquipment(e.itemID),e.listOfGrades=jsonGrades,e.grade="0",t.grade&&(e.grade=t.grade),e.minGradeModifier=jsonGrades[e.grade].min,e.maxGradeModifier=jsonGrades[e.grade].max,e.listOfSuffix=jsonSuffixes,e.suffix="0",e.suffixNum=0,t.suffix&&(e.suffix=t.suffix),e.listOfPrefix=jsonPrefixes,e.prefix="0",e.prefixNum=0,t.prefix&&(e.prefix=t.prefix,e.prefixStat=jsonPrefixes[e.prefix]),e.suffixPrefixChange=function(){var r="#!/items/armor/"+t.id+"?suffix="+e.suffix+"&prefix="+e.prefix+"&grade="+e.grade;$(location).attr("href",r)};var i="["+e.item.name+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(i),n(),r()}]),angular.module("mainApp").controller("eqTrinketCtrl",["$scope","$routeParams",function(e,t){e.Math=Math,e.item=getEquipmentByName(t.id),e.itemID=getEquipmentIdByName(t.id),e.droppedBy=getMonsterByTrinketId(e.itemID),e.listOfGrades=jsonGrades,e.grade="0",t.grade&&(e.grade=t.grade),e.minGradeModifier=jsonGrades[e.grade].min,e.maxGradeModifier=jsonGrades[e.grade].max,e.gradeChange=function(){var r="#!/items/trinket/"+t.id+"?grade="+e.grade;$(location).attr("href",r)};var r="["+e.item.name+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(r)}]),angular.module("mainApp").controller("eqWeaponCtrl",["$scope","$routeParams",function(e,t){function r(){e.suffixMod=1+getSuffixMod(e.suffix),e.suffix>0?($("#add-suffix").removeClass("hide"),e.suffixNum=1):$("#add-suffix").addClass("hide")}function n(){0!=e.prefix&&(e.prefixNum=1)}e.Math=Math,e.itemID=getEquipmentIdByName(t.id),e.item=jsonEquipments[e.itemID],e.itemBaseStat=getBaseStatByType(e.item.subType),0!=e.item.crafterID&&(e.item.hasOwnProperty("materialType")?e.material=getMaterialByIdSpec(e.item.materialID,e.item.materialAmount,e.item.materialType):e.material=getMaterialById(e.item.materialID,e.item.materialAmount)),e.craft=usedToCraftFromEquipment(e.itemID),e.listOfGrades=jsonGrades,e.grade="0",t.grade&&(e.grade=t.grade),e.minGradeModifier=jsonGrades[e.grade].min,e.maxGradeModifier=jsonGrades[e.grade].max,e.listOfSuffix=jsonSuffixes,e.suffix="0",e.suffixNum=0,t.suffix&&(e.suffix=t.suffix),e.listOfPrefix=jsonPrefixes,e.prefix="0",e.prefixNum=0,t.prefix&&(e.prefix=t.prefix,e.prefixStat=jsonPrefixes[e.prefix]),e.suffixPrefixChange=function(){var r="#!/items/weapon/"+t.id+"?suffix="+e.suffix+"&prefix="+e.prefix+"&grade="+e.grade;$(location).attr("href",r)};var i="["+e.item.name+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(i),n(),r()}]),angular.module("mainApp").controller("guideCtrl",["$scope","$routeParams",function(e,t){e.trimDate=function(e){var t=trimDate(e);return t},e.selectedGuide=getGuideByTitle(t.id),e.guideAuthor=getAuthorByID(e.selectedGuide.author),e.guideTitle=e.selectedGuide.title.rendered,e.guideContent=e.selectedGuide.content.rendered,e.guideDate=e.selectedGuide.date;var r="["+e.guideTitle+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(r)}]),angular.module("mainApp").controller("guidesCtrl",["$scope","$routeParams",function(e,t){e.guidesList=listOfGuides,e.getAuthByID=function(e){var t=getAuthorByID(e);return t},e.trimDate=function(e){var t=trimDate(e);return t}}]),angular.module("mainApp").controller("heroCtrl",["$scope","$routeParams",function(e,t){e.hero=getHeroByName(t.id),e.heroUnlock="pages/hero-unlock-"+e.hero.name+".html",e.heroRole="pages/hero-role-"+e.hero.name+".html"}]),angular.module("mainApp").controller("itemArmorCtrl",["$scope","$routeParams",function(e,t){$(".armors-page-filters label").on("click",function(){$(this).toggleClass("filter-selected")}),e.itemSlot=function(e){return 2==e.itemSlot||3==e.itemSlot||4==e.itemSlot||5==e.itemSlot},e.equipment=jsonEquipments,e.formula=jsonFormulas,e.Filter={},e.showArmorsByType=function(t){return t.subType===e.Filter.Bracers||t.subType===e.Filter.Greaves||t.subType===e.Filter.Helm||t.subType===e.Filter.Chainmail||t.subType===e.Filter.Gauntlets||t.subType===e.Filter.Sabatons||t.subType===e.Filter.GreatHelm||t.subType===e.Filter.Platemail||t.subType===e.Filter.Gloves||t.subType===e.Filter.Boots||t.subType===e.Filter.Hood||t.subType===e.Filter.Tunic||t.subType===e.Filter.Mitts||t.subType===e.Filter.Crakows||t.subType===e.Filter.Hat||t.subType===e.Filter.Robe},e.showArmorsByTier=function(t){return lvToTier(t.itemLevel)==e.Filter.Tier1||lvToTier(t.itemLevel)==e.Filter.Tier2||lvToTier(t.itemLevel)==e.Filter.Tier3||lvToTier(t.itemLevel)==e.Filter.Tier4||lvToTier(t.itemLevel)==e.Filter.Tier5};var r=!1;e.selectTier=function(){r?(r=!1,e.Filter.Tier1=!1,e.Filter.Tier2=!1,e.Filter.Tier3=!1,e.Filter.Tier4=!1,e.Filter.Tier5=!1,$(".armors-tier-options label").each(function(){$(this).removeClass("filter-selected")})):(r=!0,e.Filter.Tier1=1,e.Filter.Tier2=2,e.Filter.Tier3=3,e.Filter.Tier4=4,e.Filter.Tier5=5,$(".armors-tier-options label").each(function(){$(this).addClass("filter-selected")}))};var n=!1;e.selectArmorAs=function(){console.log("pushed"+n),n?(n=!1,e.Filter.Bracers=!1,e.Filter.Greaves=!1,e.Filter.Helm=!1,e.Filter.Chainmail=!1,e.Filter.Gauntlets=!1,e.Filter.Sabatons=!1,e.Filter.GreatHelm=!1,e.Filter.Platemail=!1,$("#as-armors-subtype label").each(function(){$(this).removeClass("filter-selected")})):(n=!0,e.Filter.Bracers="Bracers",e.Filter.Greaves="Greaves",e.Filter.Helm="Helm",e.Filter.Chainmail="Chainmail",e.Filter.Gauntlets="Gauntlets",e.Filter.Sabatons="Sabatons",e.Filter.GreatHelm="Great Helm",e.Filter.Platemail="Platemail",$("#as-armors-subtype label").each(function(){$(this).addClass("filter-selected")}))};var i=!1;e.selectArmorCw=function(){i?(i=!1,e.Filter.Gloves=!1,e.Filter.Boots=!1,e.Filter.Hood=!1,e.Filter.Tunic=!1,e.Filter.Mitts=!1,e.Filter.Crakows=!1,e.Filter.Hat=!1,e.Filter.Robe=!1,$("#cw-armors-subtype label").each(function(){$(this).removeClass("filter-selected")})):(i=!0,e.Filter.Gloves="Gloves",e.Filter.Boots="Boots",e.Filter.Hood="Hood",e.Filter.Tunic="Tunic",e.Filter.Mitts="Mitts",e.Filter.Crakows="Crakows",e.Filter.Hat="Hat",e.Filter.Robe="Robe",$("#cw-armors-subtype label").each(function(){$(this).addClass("filter-selected")}))}}]),angular.module("mainApp").controller("itemMaterialCtrl",["$scope","$routeParams",function(e,t){$(".materials-page-filters label").on("click",function(){$(this).toggleClass("filter-selected")}),e.material=jsonMaterials,e.Filter={},e.itemSlot=function(e){return 2==e.itemSlot||3==e.itemSlot||4==e.itemSlot||5==e.itemSlot},e.showMaterialsByType=function(t){return t.subType===e.Filter.ore||t.subType===e.Filter.metal||t.subType===e.Filter.log||t.subType===e.Filter.cloth||t.subType===e.Filter.herb||t.subType===e.Filter.limb||t.subType===e.Filter.scale||t.subType===e.Filter.tooth||t.subType===e.Filter.fur||t.subType===e.Filter.plate||t.subType===e.Filter.blade||t.subType===e.Filter.hilt||t.subType===e.Filter.crystal||t.subType===e.Filter.shell||t.subType===e.Filter.claw||t.subType===e.Filter.horn||t.subType===e.Filter.misc},e.showMaterialsByTier=function(t){return lvToTierAtMaterials(t.itemLevel)==e.Filter.Tier1||lvToTierAtMaterials(t.itemLevel)==e.Filter.Tier2||lvToTierAtMaterials(t.itemLevel)==e.Filter.Tier3||lvToTierAtMaterials(t.itemLevel)==e.Filter.Tier4||lvToTierAtMaterials(t.itemLevel)==e.Filter.Tier5};var r=!1;e.selectTier=function(){r?(r=!1,e.Filter.Tier1=!1,e.Filter.Tier2=!1,e.Filter.Tier3=!1,e.Filter.Tier4=!1,e.Filter.Tier5=!1,$(".materials-tier-options label").each(function(){$(this).removeClass("filter-selected")})):(r=!0,e.Filter.Tier1=1,e.Filter.Tier2=2,e.Filter.Tier3=3,e.Filter.Tier4=4,e.Filter.Tier5=5,$(".materials-tier-options label").each(function(){$(this).addClass("filter-selected")}))};var n=!1;e.selectMaterials=function(){n?(n=!1,e.Filter.ore=!1,e.Filter.metal=!1,e.Filter.log=!1,e.Filter.cloth=!1,e.Filter.herb=!1,e.Filter.limb=!1,e.Filter.scale=!1,e.Filter.tooth=!1,e.Filter.fur=!1,e.Filter.plate=!1,e.Filter.blade=!1,e.Filter.hilt=!1,e.Filter.crystal=!1,e.Filter.shell=!1,e.Filter.claw=!1,e.Filter.horn=!1,e.Filter.misc=!1,$("#materials-subtype label").each(function(){$(this).removeClass("filter-selected")})):(n=!0,e.Filter.ore="ore",e.Filter.metal="metal",e.Filter.log="log",e.Filter.cloth="cloth",e.Filter.herb="herb",e.Filter.limb="limb",e.Filter.scale="scale",e.Filter.tooth="tooth",e.Filter.fur="fur",e.Filter.plate="plate",e.Filter.blade="blade",e.Filter.hilt="hilt",e.Filter.crystal="crystal",e.Filter.shell="shell",e.Filter.claw="claw",e.Filter.horn="horn",e.Filter.misc="misc",$("#materials-subtype label").each(function(){$(this).addClass("filter-selected")}))}}]),angular.module("mainApp").controller("itemPotionCtrl",["$scope","$routeParams",function(e,t){$(".potions-page-filters label").on("click",function(){$(this).toggleClass("filter-selected")}),e.potion=jsonPotions,e.Filter={},e.showPotionsByTier=function(t){return lvToTierAtPotion(t.itemLevel)==e.Filter.Tier1||lvToTierAtPotion(t.itemLevel)==e.Filter.Tier2||lvToTierAtPotion(t.itemLevel)==e.Filter.Tier3||lvToTierAtPotion(t.itemLevel)==e.Filter.Tier4||lvToTierAtPotion(t.itemLevel)==e.Filter.Tier5},e.showPotionsByType=function(t){return t.subType===e.Filter.Health||t.subType===e.Filter.Boost||t.subType===e.Filter.Enchant};var r=!1;e.selectTier=function(){r?(r=!1,e.Filter.Tier1=!1,e.Filter.Tier2=!1,e.Filter.Tier3=!1,e.Filter.Tier4=!1,e.Filter.Tier5=!1,$(".potions-tier-options label").each(function(){$(this).removeClass("filter-selected")})):(r=!0,e.Filter.Tier1=1,e.Filter.Tier2=2,e.Filter.Tier3=3,e.Filter.Tier4=4,e.Filter.Tier5=5,$(".potions-tier-options label").each(function(){$(this).addClass("filter-selected")}))};var n=!1;e.selectPotion=function(){n?(n=!1,e.Filter.Health=!1,e.Filter.Boost=!1,e.Filter.Enchant=!1,$("#potions-subtype label").each(function(){$(this).removeClass("filter-selected")})):(n=!0,e.Filter.Health="Health",e.Filter.Boost="Boost",e.Filter.Enchant="Enchant",$("#potions-subtype label").each(function(){$(this).addClass("filter-selected")}))}}]),angular.module("mainApp").controller("itemTrinketCtrl",["$scope","$routeParams",function(e,t){$(".trinkets-page-filters label").on("click",function(){$(this).toggleClass("filter-selected")}),e.equipment=jsonEquipments,e.Filter={},e.showTrinketsByTier=function(t){return lvToTier(t.itemLevel)==e.Filter.Tier1||lvToTier(t.itemLevel)==e.Filter.Tier2||lvToTier(t.itemLevel)==e.Filter.Tier3||lvToTier(t.itemLevel)==e.Filter.Tier4||lvToTier(t.itemLevel)==e.Filter.Tier5};var r=!1;e.selectTier=function(){r?(r=!1,e.Filter.Tier1=!1,e.Filter.Tier2=!1,e.Filter.Tier3=!1,e.Filter.Tier4=!1,e.Filter.Tier5=!1,$(".trinkets-tier-options label").each(function(){$(this).removeClass("filter-selected")})):(r=!0,e.Filter.Tier1=1,e.Filter.Tier2=2,e.Filter.Tier3=3,e.Filter.Tier4=4,e.Filter.Tier5=5,$(".trinkets-tier-options label").each(function(){$(this).addClass("filter-selected")}))}}]),angular.module("mainApp").controller("itemWeaponCtrl",["$scope","$routeParams",function(e,t){e.equipment=jsonEquipments,e.formula=jsonFormulas,e.Filter={},$(".weapons-page-filters label").on("click",function(){$(this).toggleClass("filter-selected")});var r=!1;e.selectTier=function(){r?(r=!1,e.Filter.Tier1=!1,e.Filter.Tier2=!1,e.Filter.Tier3=!1,e.Filter.Tier4=!1,e.Filter.Tier5=!1,$(".weapons-tier-options label").each(function(){$(this).removeClass("filter-selected")})):(r=!0,e.Filter.Tier1=1,e.Filter.Tier2=2,e.Filter.Tier3=3,e.Filter.Tier4=4,e.Filter.Tier5=5,$(".weapons-tier-options label").each(function(){$(this).addClass("filter-selected")}))};var n=!1;e.selectWeaponBs=function(){n?(n=!1,e.Filter.Sword=!1,e.Filter.Longsword=!1,e.Filter.Axe=!1,e.Filter.Hatchet=!1,e.Filter.Dagger=!1,e.Filter.Knife=!1,$("#bs-weapons-subtypes label").each(function(){$(this).removeClass("filter-selected")})):(n=!0,e.Filter.Sword="Sword",e.Filter.Longsword="Longsword",e.Filter.Axe="Axe",e.Filter.Hatchet="Hatchet",e.Filter.Dagger="Dagger",e.Filter.Knife="Knife",$("#bs-weapons-subtypes label").each(function(){$(this).addClass("filter-selected")}))};var i=!1;e.selectWeaponWw=function(){i?(i=!1,e.Filter.Wand=!1,e.Filter.MysticWand=!1,e.Filter.Stave=!1,e.Filter.MysticStave=!1,e.Filter.Cudgel=!1,e.Filter.Club=!1,$("#ww-weapons-subtypes label").each(function(){$(this).removeClass("filter-selected")})):(i=!0,e.Filter.Wand="Wand",e.Filter.MysticWand="Mystic Wand",e.Filter.Stave="Stave",e.Filter.MysticStave="Mystic Stave",e.Filter.Cudgel="Cudgel",e.Filter.Club="Club",$("#ww-weapons-subtypes label").each(function(){$(this).addClass("filter-selected")}))};var a=!1;e.selectWeaponSp=function(){a?(a=!1,e.Filter.Rod=!1,e.Filter.Pole=!1,e.Filter.Trident=!1,e.Filter.SpellSword=!1,$("#sp-weapons-subtypes label").each(function(){$(this).removeClass("filter-selected")})):(a=!0,e.Filter.Rod="Rod",e.Filter.Pole="Pole",e.Filter.Trident="Trident",e.Filter.SpellSword="Spellsword",$("#sp-weapons-subtypes label").each(function(){$(this).addClass("filter-selected")}))},e.showWeaponsByType=function(t){return t.subType===e.Filter.Sword||t.subType===e.Filter.Longsword||t.subType===e.Filter.Axe||t.subType===e.Filter.Hatchet||t.subType===e.Filter.Dagger||t.subType===e.Filter.Knife||t.subType===e.Filter.Wand||t.subType===e.Filter.MysticWand||t.subType===e.Filter.Stave||t.subType===e.Filter.MysticStave||t.subType===e.Filter.Cudgel||t.subType===e.Filter.Club||t.subType===e.Filter.Rod||t.subType===e.Filter.Pole||t.subType===e.Filter.Trident||t.subType===e.Filter.SpellSword},e.showWeaponsByTier=function(t){return lvToTier(t.itemLevel)==e.Filter.Tier1||lvToTier(t.itemLevel)==e.Filter.Tier2||lvToTier(t.itemLevel)==e.Filter.Tier3||lvToTier(t.itemLevel)==e.Filter.Tier4||lvToTier(t.itemLevel)==e.Filter.Tier5}}]),angular.module("mainApp").controller("mainCtrl",["$scope","$routeParams",function(e,t){e.name="Main",e.params=t,e.bosses=jsonBosses,e.quests=jsonQuests}]),angular.module("mainApp").controller("materialCtrl",["$scope","$routeParams",function(e,t){e.Math=Math,e.materialID=getMaterialIdByName(t.id),e.material=jsonMaterials[e.materialID],e.material.hasOwnProperty("materialID")?e.craftedBy=getMaterialById(e.material.materialID,e.material.materialAmount):e.droppedBy=getMonsterByMaterialId(e.materialID),e.craft=usedToCraftFromMaterial(e.materialID);var r="["+e.material.name+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(r)}]),angular.module("mainApp").controller("mobileMenuController",["$scope",function(e){$("#mobile-menu li").click(function(e){e.stopPropagation(),$(this).children("ul").slideToggle("slow")})}]),angular.module("mainApp").controller("potionCtrl",["$scope","$routeParams",function(e,t){e.potion=getPotionByName(t.id),e.potionID=getPotionIdByName(t.id),e.potion.hasOwnProperty("materialType")?e.craftedBy=getMaterialByIdSpec(e.potion.materialID,e.potion.materialAmount,e.potion.materialType):e.craftedBy=getMaterialById(e.potion.materialID,e.potion.materialAmount),e.craft=usedToCraftFromPotion(e.potionID),0==e.craft.length&&(e.craft="");var r="["+e.potion.name+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(r)}]),angular.module("mainApp").controller("questCtrl",["$scope","$routeParams",function(e,t){e.quest=getQuestByName(t.id),e.mats=jsonMaterials,e.eq=jsonEquipments;var r="["+e.quest.name+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(r)}]),angular.module("mainApp").controller("regioCtrl",["$scope","$routeParams",function(e,t){e.regioName=t.id,e.questNames=getQuestNamesByRegioName(t.id),e.mats=jsonMaterials,e.eq=jsonEquipments;var r=[];$.each(e.questNames,function(e,t){r.push(getQuestByName(t))}),e.quests=r}]),angular.module("mainApp").controller("searchController",["$scope","$http",function(e,t){e.gameObjects=jsonSearch,e.itemSelected=function(e){if(e){var t="";t="Weapon"==e.originalObject.type?"items/weapon/":"Armor"==e.originalObject.type?"items/armor/":"Trinket"==e.originalObject.type?"items/trinket/":"Material"==e.originalObject.type?"items/material/":"Potion"==e.originalObject.type?"items/potion/":"quests/";var r="#!/"+t+e.title;return $(location).attr("href",r),!1}console.log("cleared")}}]),angular.module("mainApp").controller("toolCompareCtrl",["$scope","$routeParams",function(e,t){e.equipment=jsonEquipments,e.formula=jsonFormulas,e.suffix=jsonSuffixes,e.prefix=jsonPrefixes,e.grade=jsonGrades,e.getItems=t.c,1==e.equipment[t.c.split("-")[0].split(",")[0]].itemSlot?e.itsWeapon=!0:6==e.equipment[t.c.split("-")[0].split(",")[0]].itemSlot?e.itsTrinket=!0:e.itsArmor=!0;var r=t.c.split("-")[0],n=r.split(",")[0];e.item1Stat=e.equipment[n];var i={};i.id=r.split(",")[1],i.name=e.prefix[i.id].name,i.stat=e.prefix[i.id].stats,e.item1Prefix=i,0!=i.id&&(e.item1PrefixNum=1);var a={};a.id=r.split(",")[2],a.name=e.suffix[a.id].name,e.suffix[a.id].hasOwnProperty("stats")?(a.modif=e.suffix[a.id].stats.acc,e.item1SuffixNum=1):a.modif=0,e.item1Suffix=a;var o={};o.id=r.split(",")[3],o.name=e.grade[o.id].name,o.min=e.grade[o.id].min,o.max=e.grade[o.id].max,e.item1Grade=o;var s=t.c.split("-")[1],l=s.split(",")[0];l=e.equipment[l],e.item2Stat=l;var m={};m.id=s.split(",")[1],m.name=e.prefix[m.id].name,m.stat=e.prefix[m.id].stats,e.item2Prefix=m,0!=m.id&&(e.item2PrefixNum=1);var u={};u.id=s.split(",")[2],u.name=e.suffix[u.id].name,e.suffix[u.id].hasOwnProperty("stats")?(u.modif=e.suffix[u.id].stats.acc,e.item2SuffixNum=1):u.modif=0,e.item2Suffix=u;var c={};c.id=s.split(",")[3],c.name=e.grade[c.id].name,c.min=e.grade[c.id].min,c.max=e.grade[c.id].max,e.item2Grade=c,e.suffixPrefixChange=function(e,r,n,i,a,o){var s="#!/tools/compare?c=";s+=t.c.split("-")[0].split(",")[0]+",",s+=e+",",s+=r+",",s+=n,s+="-",s+=t.c.split("-")[1].split(",")[0]+",",s+=i+",",s+=a+",",s+=o,$(location).attr("href",s)},setTimeout(function(){$.each($(".compareThis"),function(){var e=$(this).prev(),t=$(this).next(),r=parseInt($(this).prev().html().split("-")[0])||0,n=parseInt($(this).next().html().split("-")[0])||0;$(this).hasClass("low")?n>r?(e.addClass("compareWin"),t.addClass("compareLose"),$(this).html(">")):r>n?(e.addClass("compareLose"),t.addClass("compareWin"),$(this).html("<")):(e.addClass("compareTie"),t.addClass("compareTie"),$(this).html("=")):r>n?(e.addClass("compareWin"),t.addClass("compareLose"),$(this).html(">")):n>r?(e.addClass("compareLose"),t.addClass("compareWin"),$(this).html("<")):(e.addClass("compareTie"),t.addClass("compareTie"),$(this).html("="))})},0);var d="[Comparsion: "+e.item1Stat.name+" and "+e.item2Stat.name+"] ("+window.location.href+")";$("#raw-url-link").click(function(){$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide")}),$("#reddit-url-link").click(function(){$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide")}),$("#generatedLink").val(window.location.href),$("#generatedLink-reddit").val(d)}]),angular.module("mainApp").controller("toolCtrl",["$scope","$routeParams",function(e,t){}]),angular.module("mainApp").filter("spaceless",function(){return function(e){return e?e.replace(/\s+/g,"_"):void 0}}).filter("timestampToDate",function(){return function(e){function t(e){return e>9?""+e:"0"+e}var r=new Date(1e3*e),n=r.getFullYear(),i=t(r.getMonth()+1),a=t(r.getDate()),o=n+". "+i+". "+a;return o}}).filter("curTimestamp",function(){return function(e){var t=Math.floor(Date.now()/1e3);return t>e?0:1}}).filter("changeStat",function(){return function(e){return"hpBns"==e?e="HP":"atkBns"==e?e="Atk":"matkBns"==e?e="mAtk":"defBns"==e?e="Def":"mdefBns"==e?e="mDef":"accBns"==e?e="Acc":"critBns"==e?e="Crit":"str"==e?e="Str":"dex"==e?e="Dex":"int"==e?e="Int":"lckMod"==e?e="Luck":"gldMod"==e?e="Gold":"expMod"==e&&(e="Exp"),
e}}),$(document).ready(function(){$("#main-content").on("click",".copy-item-url",function(){fadeInBlackBG(),fadeInUrlBox()}),$("#main-content").on("click",".comparison-copy-item-url",function(){fadeInBlackBG(),fadeInUrlBox()}),$("#main-content").on("click",".eqpage-compare-button",function(){if(0==$("#item1-compare").text().length)displayFirstCompareItem(),fadeInBlackBG(),fadeInComparePrompt(),$("#comparison-prompt-second-row").hasClass("hide")||$("#comparison-prompt-second-row").addClass("hide");else if($("#item1-compare").text().length>0)if($("#primary-type").text()!=$("#item1-type").text()){console.log("these types don't match!");var e=!0;displayBothCompareItems(e),fadeInBlackBG(),fadeInComparePrompt()}else displayBothCompareItems(),fadeInBlackBG(),fadeInComparePrompt()})}),$(document).on("click","#commentsButton",function(){$("#comments").show(),resetDisqus(),$("#commentsButton").hide()}),$(document).on("click",".copy-standard-link-button",function(){console.log("check"),fadeOutBlackBG(),fadeOutUrlBox(),$("#generatedLink").show(),$("#generatedLink-reddit").addClass("hide");var e=document.querySelector("#generatedLink");e.select();try{var t=document.execCommand("copy"),r=t?"successful":"unsuccessful";console.log("Copying text command was "+r),$("#copy-message").css("display","block").append("Copied to clipboard!")}catch(n){console.log("Oops, unable to copy"),$("#copy-message").css("display","block").append("Oops! Unable to copy.")}}),$(document).on("click",".copy-reddit-link-button",function(){console.log("check"),fadeOutBlackBG(),fadeOutUrlBox(),$("#generatedLink").hide(),$("#generatedLink-reddit").removeClass("hide");var e=document.querySelector("#generatedLink-reddit");e.select();try{var t=document.execCommand("copy"),r=t?"successful":"unsuccessful";console.log("Copying text command was "+r),$("#copy-message").css("display","block").append("Copied to clipboard!")}catch(n){console.log("Oops, unable to copy"),$("#copy-message").css("display","block").append("Oops! Unable to copy.")}}),$(document).on("click",".url-box-close-button",function(){fadeOutBlackBG(),fadeOutUrlBox()}),$(document).on("click",".prompt-close-button",function(){fadeOutBlackBG(),fadeOutComparePrompt()}),$(document).on("click","#comparison-prompt-confirm-button",function(){fadeOutBlackBG(),fadeOutComparePrompt()});var jsonSearch="";$.getJSON("json/beta/search.json",function(e){jsonSearch=e});var jsonEquipments="";$.getJSON("json/beta/EquipmentList.json",function(e){jsonEquipments=e});var jsonFormulas="";$.getJSON("json/beta/FormulaList.json",function(e){jsonFormulas=e});var jsonHeroes="";$.getJSON("json/beta/HeroList.json",function(e){jsonHeroes=e});var jsonMaterials="";$.getJSON("json/beta/MaterialList.json",function(e){jsonMaterials=e});var jsonPotions="";$.getJSON("json/beta/PotionList.json",function(e){jsonPotions=e});var jsonQuests="";$.getJSON("json/beta/QuestList.json",function(e){jsonQuests=e});var jsonPrefixes="";$.getJSON("json/beta/PrefixList.json",function(e){jsonPrefixes=e});var jsonSuffixes="";$.getJSON("json/beta/SuffixList.json",function(e){jsonSuffixes=e});var jsonGrades="";$.getJSON("json/beta/GradeList.json",function(e){jsonGrades=e});var listOfGuides="";$.ajax({url:"http://merchantgamedb.com/guides/wp-json/wp/v2/posts",dataType:"json",async:!1,success:function(e){listOfGuides=e}});var jsonSearch="";$.getJSON("json/stable/search.json",function(e){jsonSearch=e});var jsonEquipments="";$.getJSON("json/stable/EquipmentList.json",function(e){jsonEquipments=e});var jsonFormulas="";$.getJSON("json/stable/FormulaList.json",function(e){jsonFormulas=e});var jsonHeroes="";$.getJSON("json/stable/HeroList.json",function(e){jsonHeroes=e});var jsonMaterials="";$.getJSON("json/stable/MaterialList.json",function(e){jsonMaterials=e});var jsonPotions="";$.getJSON("json/stable/PotionList.json",function(e){jsonPotions=e});var jsonQuests="";$.getJSON("json/stable/QuestList.json",function(e){jsonQuests=e});var jsonPrefixes="";$.getJSON("json/stable/PrefixList.json",function(e){jsonPrefixes=e});var jsonSuffixes="";$.getJSON("json/stable/SuffixList.json",function(e){jsonSuffixes=e});var jsonGrades="";$.getJSON("json/stable/GradeList.json",function(e){jsonGrades=e});var jsonBosses="";$.getJSON("json/stable/EventList.json",function(e){jsonBosses=e});var listOfGuides="";$.ajax({url:"http://merchantgamedb.com/guides/wp-json/wp/v2/posts?filter[cat]=6",dataType:"json",async:!1,success:function(e){listOfGuides=e}}),function(){for(var e,t=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=r.length,i=window.console=window.console||{};n--;)e=r[n],i[e]||(i[e]=t)}();var rddt=0,tbns=0,maxtbns=14,maxrddts=10;$.getJSON("http://www.reddit.com/r/MerchantRPG.json?sort=top&t=week&limit=40&jsonp=?",function(e){$.each(e.data.children,function(e,t){var r="",n="";t.data.thumbnail&&"self"!=t.data.thumbnail&&maxtbns>tbns?(tbns++,n+='<a href="'+t.data.url+'" title="'+t.data.title+'" target="_blank"><img src="'+t.data.thumbnail+'"></a>'):maxrddts>=rddt&&(rddt++,r='<li><p><strong><a href="'+t.data.url+'" target="_blank">'+t.data.title+"</strong></a></p>",r+="<p>"+t.data.ups+'&uarr; | <a href="//reddit.com'+t.data.permalink+'" target="_blank">'+t.data.num_comments+" Comments</a></p></li>"),$("#reddit .posts").append(r),$("#reddit .thumbs").append(n)})});